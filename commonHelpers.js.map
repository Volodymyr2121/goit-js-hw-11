{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const Base_URL = 'https://pixabay.com/api/';\nconst KEY_USER = '43953173-48a4f3f757f38a8504babc00c'\n\n export const fetchFotoByQuery =(query = \"happy\") => {\n     const searchParams = new URLSearchParams({\n         key: KEY_USER,\n         q: query,\n         per_page: 21,\n         image_type: \"photo\",\n         safesearch: true,\norientation: 'horizontal'\n     });\n\n     return fetch(`${Base_URL}?${searchParams}`).then(response => {\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: ${response.statusText}`);\n            }\n\n            return response.json();\n        });\n};\n\n\n","export const createGalleryMarkUp = (images) => {\n    return images.map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => `\n        <div class=\"col\">\n          <div class=\"card shadow-sm\">\n            <a href=\"${largeImageURL}\" class=\"gallery-link\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img img-fluid\" />\n            </a>\n            <div class=\"card-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                \n                <small class=\"text-body-secondary\">Likes ${likes}</small>\n                <small class=\"text-body-secondary\">Views ${views}</small>\n                <small class=\"text-body-secondary\">Comments ${comments}</small>\n              </div>\n            </div>\n          </div>\n        </div>`\n    ).join('');\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { fetchFotoByQuery } from \"./js/pixabay-api\";\nimport { createGalleryMarkUp } from \"./js/render-function\";\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst searchFormEl = document.querySelector('.js-search-form');\nconst loaderEl = document.querySelector('.js-loader');\n\nfunction onSearchFormSabmit(event) {\n    event.preventDefault();\n    const searhQuery = event.target.elements.searchKeyword.value.trim();\n    if (searhQuery === \"\") {\n        galleryEl.innerHTML = '';\n        event.target.reset();\niziToast.show({\n    message: 'Input field cannot be empty',\n            position: 'center',\n            timeout: 2000,\n            color: 'red',\n});\n        return;\n    }\n\n    galleryEl.innerHTML = '';\n\n    loaderEl.classList.remove('is-hidden');\n\n    fetchFotoByQuery(searhQuery).then(ImageData => {\n        if (ImageData.hits.length === 0) {\n            iziToast.show({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'center',\n                    timeout: 2000,\n                    color: 'red',\n                });\n        }\n        galleryEl.innerHTML = createGalleryMarkUp(ImageData.hits)\n        let gallery = new SimpleLightbox('.card a');\n        gallery.refresh();\n    })\n        \n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('is-hidden')\n    })\n}\n\n\nsearchFormEl.addEventListener('submit', onSearchFormSabmit)"],"names":["Base_URL","KEY_USER","fetchFotoByQuery","query","searchParams","response","createGalleryMarkUp","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","galleryEl","searchFormEl","loaderEl","onSearchFormSabmit","event","searhQuery","iziToast","ImageData","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAW,qCAEHC,EAAkB,CAACC,EAAQ,UAAY,CAChD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,SAAU,GACV,WAAY,QACZ,WAAY,GACrB,YAAa,YACb,CAAM,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CACtD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,SAASA,EAAS,MAAM,KAAKA,EAAS,UAAU,EAAE,EAGtE,OAAOA,EAAS,MAC5B,CAAS,CACT,ECpBaC,EAAuBC,GACzBA,EAAO,IAAI,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,uBAG5EN,CAAa;AAAA,0BACVC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2DAKOC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAKtE,EAAM,KAAK,EAAE,ECRPE,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,YAAY,EAEpD,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,cAAc,MAAM,OAC7D,GAAIC,IAAe,GAAI,CACnBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACrBE,EAAS,KAAK,CACV,QAAS,8BACD,SAAU,SACV,QAAS,IACT,MAAO,KACnB,CAAC,EACO,MACH,CAEDN,EAAU,UAAY,GAEtBE,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAiBkB,CAAU,EAAE,KAAKE,GAAa,CACvCA,EAAU,KAAK,SAAW,GAC1BD,EAAS,KAAK,CACN,QAAS,2EACT,SAAU,SACV,QAAS,IACT,MAAO,KAC3B,CAAiB,EAETN,EAAU,UAAYT,EAAoBgB,EAAU,IAAI,EAC1C,IAAIC,EAAe,SAAS,EAClC,QAAO,CACvB,CAAK,EAEI,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CAC9C,CAAK,CACL,CAGAD,EAAa,iBAAiB,SAAUE,CAAkB"}